post:
  summary: 방화벽 그룹 생성
  operationId: createFirewall
  description: |
  tags:
    - Firewalls

  # parameters:
  #   - in: body
  #     name: firewall
  #     schema:
  #       type: object
  #       required:
  #         - user_id
  #       properties:
  #         user_id:
  #           type: string
  #           description: 이용자의 ID에 해당하는 매개변수입니다.
  #           minLength: 3
  #           maxLength: 16
  #           pattern: ^[\w\-]{3,16}$
  #           example: company_777
  #         name:
  #           description: |
  #             g클라우드 방화벽의 자원명에 해당하는 매개변수입니다.
  #             - 이용자의 다른 g클라우드 방화벽의 자원명과 중복될 수 없습니다.
  #             - 영문, 숫자, 하이픈(-), 언더바(_)를 사용하여 1자 이상 16자 이하로만 입력할 수 있습니다.
  #           type: string
  #           minLength: 1
  #           maxLength: 16
  #           pattern: ^[\w\-]{1,16}$
  #           example: firewall-test
  #         desc:
  #           description: |
  #             g클라우드 방화벽에 대한 설명을 입력하는 매개변수입니다.
  #             - 일부 특수문자( ( ? ! [ \ / ? ; : | * < > @ \ ' " ] ) )를 제외한 0자 이상 100자 이하의 문자(한글, 영문, 숫자, 특수문자 등)로 입력할 수 있습니다.
  #           type: string
  #           minLength: 0
  #           maxLength: 100
  #           pattern: ^((?![\/?;:|*<>@\\\'\"]).){0,100}$
  #           example: basic-f
  #         rule:
  #           description: |
  #           type: array
  #           items:
  #             type: object
  #             properties:
  #               protocol:
  #                 description: |
  #                 type: string
  #                 enum:
  #                   - TCP
  #                   - UDP
  #                   - ICMP
  #                   - ALL
  #               chain:
  #                 description: |
  #                 type: string
  #                 enum:
  #                   - IN
  #                   - OUT
  #               start_port:
  #                 description: |
  #                 type: integer
  #                 minimum: 0
  #                 maximum: 65535
  #               end_port:
  #                 description: |
  #                 type: integer
  #                 minimum: 0
  #                 maximum: 65535
  #               ip_group:
  #                 description: |
  #                 type: string
  #               service:
  #                 description: |
  #                 type: string
  #               desc:
  #                 description: |
  #                 type: string
  #         foreign:
  #           description: |
  #           type: object
  #           properties:
  #             country_code:
  #               description: |
  #                 **ALL**
  #                 - 특수한 country_code입니다.
  #                 - 전체 국가를 허용할 때 사용합니다.
  #                 - 전체 국가를 허용할 때 ALL만 보냅니다.
  #                   - ["ALL"] : 옳은 방법
  #                   - ["ALL", "FR"] : 틀린 방법
  #               type: array
  #               enum: ["FR", "CN"]
  #               example: ["FR", "CN"]
  #             desc:
  #               description: |
  #               type: string

  produces:
    - application/json
  x-code-samples:
    # - lang: PHP
    #   source: |
    #     <?php
    #     $curl = curl_init();

    #     curl_setopt_array($curl, array(
    #       CURLOPT_URL => "https://cpapi.gabia.com/v1/servers",
    #       CURLOPT_RETURNTRANSFER => true,
    #       CURLOPT_ENCODING => "",
    #       CURLOPT_MAXREDIRS => 10,
    #       CURLOPT_TIMEOUT => 30,
    #       CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
    #       CURLOPT_CUSTOMREQUEST => "POST",
    #       # CURLOPT_POSTFIELDS => "user_id=company_777&service_zone=zone_1&img_id=img_131&ip_use=N&name=as-server&desc=scale-out%20server&type=basic&cpu=1&memory=1&hdd=50",
    #       CURLOPT_HTTPHEADER => array(
    #         "authorization: Bearer {YOUR-JWT-TOKEN}",
    #         "cache-control: no-cache",
    #         "content-type: application/x-www-form-urlencoded",
    #       ),
    #     ));

    #     $response = curl_exec($curl);
    #     $err = curl_error($curl);

    #     curl_close($curl);
    - lang: Node.js
      source: |
        var request = require("request");

        var options = {
          method: 'POST',
          url: 'https://cpapi.gabia.com/v1/servers',
          headers: {
            'cache-control': 'no-cache',
            'content-type': 'application/x-www-form-urlencoded',
            'authorization': 'Bearer {YOUR-JWT-TOKEN}'
          },
          form: {
            'user_id': 'company_777',
            'name': 'firewall-test',
            'desc': 'basic-f',
            'rule': [
              {
                'protocol': 'TCP',
                'chain': 'IN',
                'start_port': 22,
                'end_port': 22,
                'ip_group': '0.0.0.0/0',
                'service': 'SSH',
                'desc': 'ssh'
              }
            ],
            'foreign': {
              'country_code': ['FR'],
              'desc': 'test'
            }
          }
        };

        request(options, function(error, response, body) {
          if (error) throw new Error(error);

          console.log(body);
        });
  
  # requestBody:
  #   required: true
  #   content:
  #     application/json:
  #       schema:
  #         type: object
  #         required:
  #           - user_id
  #           - name
  #           - desc
  #         properties:
  #           user_id:
  #             type: string
  #             description: 이용자의 ID에 해당하는 매개변수입니다.
  #             # minLength: 3
  #             # maxLength: 16
  #             # pattern: ^[\w\-]{3,16}$
  #             # example: company_777
  #           name:
  #             description: |
  #               g클라우드 방화벽의 자원명에 해당하는 매개변수입니다.
  #               - 이용자의 다른 g클라우드 방화벽의 자원명과 중복될 수 없습니다.
  #               - 영문, 숫자, 하이픈(-), 언더바(_)를 사용하여 1자 이상 16자 이하로만 입력할 수 있습니다.
  #             type: string
  #             # minLength: 1
  #             # maxLength: 16
  #             # pattern: ^[\w\-]{1,16}$
  #           desc:
  #             description: |
  #               g클라우드 방화벽에 대한 설명을 입력하는 매개변수입니다.
  #               - 일부 특수문자( ( ? ! [ \ / ? ; : | * < > @ \ ' " ] ) )를 제외한 0자 이상 100자 이하의 문자(한글, 영문, 숫자, 특수문자 등)로 입력할 수 있습니다.
  #             type: string
  #             # minLength: 0
  #             # maxLength: 100
  #             # pattern: ^((?![\/?;:|*<>@\\\'\"]).){0,100}$